{"version":3,"sources":["../node_modules/monaco-editor/esm/vs/language/html/workerManager.js","../node_modules/monaco-editor/esm/vs/language/html/languageFeatures.js","../node_modules/monaco-editor/esm/vs/language/html/htmlMode.js"],"names":["Promise","monaco","STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","timePassedSinceLastUsed","Date","now","_getClient","editor","createWebWorker","moduleId","createData","languageSettings","options","languageId","label","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","toShallowCancelPromise","then","client","_","withSyncedResources","p","completeCallback","errorCallback","r","c","e","ls","Uri","Range","DiagnosticsAdapter","_languageId","_disposables","_listener","Object","create","onModelAdd","model","modeId","getModeId","handle","uri","toString","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","push","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","getModels","forEach","key","d","resource","worker","doValidation","diagnostics","markers","map","toDiagnostics","getModel","undefined","err","console","error","toSeverity","lsSeverity","DiagnosticSeverity","Error","MarkerSeverity","Warning","Information","Info","Hint","diag","code","String","severity","startLineNumber","range","start","line","startColumn","character","endLineNumber","end","endColumn","message","source","fromPosition","position","column","lineNumber","fromRange","getStartPosition","getEndPosition","toRange","toCompletionItemKind","kind","mItemKind","languages","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","fromCompletionItemKind","toTextEdit","textEdit","text","newText","toCompletionItem","entry","insertText","sortText","filterText","documentation","detail","data","fromMarkdownString","MarkupKind","PlainText","Markdown","value","fromCompletionItem","item","insertTextFormat","InsertTextFormat","TextEdit","replace","CompletionAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","token","wordInfo","getWordUntilPosition","wireCancellationToken","doComplete","info","items","isIncomplete","isMarkupContent","thing","toMarkdownString","language","toMarkedStringArray","contents","Array","isArray","toLocation","location","parse","toSymbolKind","mKind","SymbolKind","Namespace","Package","Constant","Number","Boolean","toHighlighKind","DocumentHighlightKind","Read","Write","DocumentHighlightAdapter","provideDocumentHighlights","findDocumentHighlights","DocumentLinkAdapter","provideLinks","findDocumentLinks","url","target","fromFormattingOptions","tabSize","insertSpaces","DocumentFormattingEditProvider","provideDocumentFormattingEdits","format","edits","DocumentRangeFormattingEditProvider","provideDocumentRangeFormattingEdits","promise","cancel","onCancellationRequested","setupMode","languageFeatures","uris","apply","registerCompletionItemProvider","registerDocumentHighlightProvider","registerLinkProvider","registerDocumentFormattingEditProvider","registerDocumentRangeFormattingEditProvider"],"mappings":";AAAA;;ACAA;;ACAA,AFIA;;ACAA;;ACAA;AFCA,IAAIA,UAAUC,OAAOD,OAArB;AACA,IAAIE,qBAAqB,IAAI,EAAJ,GAAS,IAAlC,EAAwC;AACxC,IAAIC,gBAAgB,aAAe,YAAY;AAC3C,aAASA,aAAT,CAAuBC,QAAvB,EAAiC;ACHrC,ADIQ,QEFQiO,IFEJhO,QEFIgO,AFEI,IAAZ;AACA,aAAK/N,SAAL,GAAiBF,QAAjB;AELR,AFMQ,ICNI4C,SDMCzC,OAAL,GAAe,IAAf;AACA,aAAKC,kBAAL,GAA0BC,YAAY,YAAY;AEN1D,AFM4D,mBAAOJ,MAAMK,YAAN,EAAP;AAA8B,SAAxD,EAA0D,KAAK,IAA/D,CAA1B;ACNR,ADOQ,IEPI4N,ADARrL,MAAMhD,GDOGU,ICPIsC,GAAjB,MDOQ,GAAqB,CAArB;ACNR,ADOQ,ICPJC,QAAQjD,CDOCW,MCPMsC,KAAnB,UDOQ,GAA6B,KAAK5C,SAAL,CAAeO,WAAf,CAA2B,YAAY;ACN5E,ADM8E,mBAAOR,MAAMS,WAAN,EAAP;ACL9E,ADK2G,ICLvGqC,KDKiC,CAA7B,eCLiB,aAAe,YAAY;ACF7C,ADGH,ADKC,SERWkL,IDGHlL,KCHN,CAAmB/C,QAAnB,EAA6B,EDGhC,CAA4BgD,WAA5B,EAAyC7C,OAAzC,EAAkDH,QAAlD,EAA4D;ACF5D,ADGI,ADKJD,QERIoC,IDGIlC,KCHK,CFQCU,ECLE,CCHCZ,GDGb,GDKJ,CAAwBW,WAAxB,GAAsC,OERzB,CAAkBV,IFQmB,IERrC,CAAb;AACA,ADGI,ADKA,QERA8E,IFQI,CCLC9B,ICHI,AFQA7C,OCLT,ADKA,EAAkB,CCLC6C,ECHE,SDGrB;ACFA,ADGA,ADKI,YERAmL,CDGChO,IDKIA,EERE,CDGX,CCHA,EDGeA,CDKX,CAAaS,KCLjB,EDKI;AEPJ,ADGA,ADKI,aERC,ADGAqC,ICHInB,AFQA3B,KERK,CAAd,CFQI,CERa2B,ADGjB,EDKmB,CCLC,ECHEC,ADGtB,CDKI,SER4BC,MAAhC,EAAwCF,IAAxC,EAA8C;AAC1CqM,ADGJ,ADKC,aCLIjL,ICHIpB,EAAL,GDGJ,CCHeC,EDGEoB,OAAOC,CCHCtB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","file":"htmlMode.d4a9d152.map","sourceRoot":"../public","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar Promise = monaco.Promise;\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(defaults) {\n        var _this = this;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = monaco.editor.createWebWorker({\n                // module that exports the create() method and returns a `HTMLWorker` instance\n                moduleId: 'vs/language/html/htmlWorker',\n                // passed in to the create() method\n                createData: {\n                    languageSettings: this._defaults.options,\n                    languageId: this._defaults.languageId\n                },\n                label: this._defaults.languageId\n            });\n            this._client = this._worker.getProxy();\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return toShallowCancelPromise(this._getClient().then(function (client) {\n            _client = client;\n        }).then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        }).then(function (_) { return _client; }));\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\nfunction toShallowCancelPromise(p) {\n    var completeCallback;\n    var errorCallback;\n    var r = new Promise(function (c, e) {\n        completeCallback = c;\n        errorCallback = e;\n    }, function () { });\n    p.then(completeCallback, errorCallback);\n    return r;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as ls from './_deps/vscode-languageserver-types/main.js';\nvar Uri = monaco.Uri;\nvar Range = monaco.Range;\n// --- diagnostics --- ---\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\n        var _this = this;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            var modeId = model.getModeId();\n            if (modeId !== _this._languageId) {\n                return;\n            }\n            var handle;\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\n            });\n            _this._doValidate(model.uri, modeId);\n        };\n        var onModelRemoved = function (model) {\n            monaco.editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var listener = _this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete _this._listener[uriStr];\n            }\n        };\n        this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(monaco.editor.onWillDisposeModel(function (model) {\n            onModelRemoved(model);\n        }));\n        this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        this._disposables.push(defaults.onDidChange(function (_) {\n            monaco.editor.getModels().forEach(function (model) {\n                if (model.getModeId() === _this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        }));\n        this._disposables.push({\n            dispose: function () {\n                for (var key in _this._listener) {\n                    _this._listener[key].dispose();\n                }\n            }\n        });\n        monaco.editor.getModels().forEach(onModelAdd);\n    }\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\n        this._worker(resource).then(function (worker) {\n            return worker.doValidation(resource.toString()).then(function (diagnostics) {\n                var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n                monaco.editor.setModelMarkers(monaco.editor.getModel(resource), languageId, markers);\n            });\n        }).then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case ls.DiagnosticSeverity.Error: return monaco.MarkerSeverity.Error;\n        case ls.DiagnosticSeverity.Warning: return monaco.MarkerSeverity.Warning;\n        case ls.DiagnosticSeverity.Information: return monaco.MarkerSeverity.Info;\n        case ls.DiagnosticSeverity.Hint: return monaco.MarkerSeverity.Hint;\n        default:\n            return monaco.MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return { start: fromPosition(range.getStartPosition()), end: fromPosition(range.getEndPosition()) };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = monaco.languages.CompletionItemKind;\n    switch (kind) {\n        case ls.CompletionItemKind.Text: return mItemKind.Text;\n        case ls.CompletionItemKind.Method: return mItemKind.Method;\n        case ls.CompletionItemKind.Function: return mItemKind.Function;\n        case ls.CompletionItemKind.Constructor: return mItemKind.Constructor;\n        case ls.CompletionItemKind.Field: return mItemKind.Field;\n        case ls.CompletionItemKind.Variable: return mItemKind.Variable;\n        case ls.CompletionItemKind.Class: return mItemKind.Class;\n        case ls.CompletionItemKind.Interface: return mItemKind.Interface;\n        case ls.CompletionItemKind.Module: return mItemKind.Module;\n        case ls.CompletionItemKind.Property: return mItemKind.Property;\n        case ls.CompletionItemKind.Unit: return mItemKind.Unit;\n        case ls.CompletionItemKind.Value: return mItemKind.Value;\n        case ls.CompletionItemKind.Enum: return mItemKind.Enum;\n        case ls.CompletionItemKind.Keyword: return mItemKind.Keyword;\n        case ls.CompletionItemKind.Snippet: return mItemKind.Snippet;\n        case ls.CompletionItemKind.Color: return mItemKind.Color;\n        case ls.CompletionItemKind.File: return mItemKind.File;\n        case ls.CompletionItemKind.Reference: return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction fromCompletionItemKind(kind) {\n    var mItemKind = monaco.languages.CompletionItemKind;\n    switch (kind) {\n        case mItemKind.Text: return ls.CompletionItemKind.Text;\n        case mItemKind.Method: return ls.CompletionItemKind.Method;\n        case mItemKind.Function: return ls.CompletionItemKind.Function;\n        case mItemKind.Constructor: return ls.CompletionItemKind.Constructor;\n        case mItemKind.Field: return ls.CompletionItemKind.Field;\n        case mItemKind.Variable: return ls.CompletionItemKind.Variable;\n        case mItemKind.Class: return ls.CompletionItemKind.Class;\n        case mItemKind.Interface: return ls.CompletionItemKind.Interface;\n        case mItemKind.Module: return ls.CompletionItemKind.Module;\n        case mItemKind.Property: return ls.CompletionItemKind.Property;\n        case mItemKind.Unit: return ls.CompletionItemKind.Unit;\n        case mItemKind.Value: return ls.CompletionItemKind.Value;\n        case mItemKind.Enum: return ls.CompletionItemKind.Enum;\n        case mItemKind.Keyword: return ls.CompletionItemKind.Keyword;\n        case mItemKind.Snippet: return ls.CompletionItemKind.Snippet;\n        case mItemKind.Color: return ls.CompletionItemKind.Color;\n        case mItemKind.File: return ls.CompletionItemKind.File;\n        case mItemKind.Reference: return ls.CompletionItemKind.Reference;\n    }\n    return ls.CompletionItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText\n    };\n}\nfunction toCompletionItem(entry) {\n    return {\n        label: entry.label,\n        insertText: entry.insertText,\n        sortText: entry.sortText,\n        filterText: entry.filterText,\n        documentation: entry.documentation,\n        detail: entry.detail,\n        kind: toCompletionItemKind(entry.kind),\n        textEdit: toTextEdit(entry.textEdit),\n        data: entry.data\n    };\n}\nfunction fromMarkdownString(entry) {\n    return {\n        kind: (typeof entry === 'string' ? ls.MarkupKind.PlainText : ls.MarkupKind.Markdown),\n        value: (typeof entry === 'string' ? entry : entry.value)\n    };\n}\nfunction fromCompletionItem(entry) {\n    var item = {\n        label: entry.label,\n        sortText: entry.sortText,\n        filterText: entry.filterText,\n        documentation: fromMarkdownString(entry.documentation),\n        detail: entry.detail,\n        kind: fromCompletionItemKind(entry.kind),\n        data: entry.data\n    };\n    if (typeof entry.insertText === 'object' && typeof entry.insertText.value === 'string') {\n        item.insertText = entry.insertText.value;\n        item.insertTextFormat = ls.InsertTextFormat.Snippet;\n    }\n    else {\n        item.insertText = entry.insertText;\n    }\n    if (entry.range) {\n        item.textEdit = ls.TextEdit.replace(fromRange(entry.range), item.insertText);\n    }\n    return item;\n}\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return ['.', ':', '<', '\"', '=', '/'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, token) {\n        var wordInfo = model.getWordUntilPosition(position);\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var items = info.items.map(function (entry) {\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    documentation: entry.documentation,\n                    detail: entry.detail,\n                    kind: toCompletionItemKind(entry.kind),\n                };\n                if (entry.textEdit) {\n                    item.range = toRange(entry.textEdit.range);\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.insertTextFormat === ls.InsertTextFormat.Snippet) {\n                    item.insertText = { value: item.insertText };\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                items: items\n            };\n        }));\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n            };\n        }\n        return {\n            value: entry.value\n        };\n    }\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: Uri.parse(location.uri),\n        range: toRange(location.range)\n    };\n}\n// --- document symbols ------\nfunction toSymbolKind(kind) {\n    var mKind = monaco.languages.SymbolKind;\n    switch (kind) {\n        case ls.SymbolKind.File: return mKind.Array;\n        case ls.SymbolKind.Module: return mKind.Module;\n        case ls.SymbolKind.Namespace: return mKind.Namespace;\n        case ls.SymbolKind.Package: return mKind.Package;\n        case ls.SymbolKind.Class: return mKind.Class;\n        case ls.SymbolKind.Method: return mKind.Method;\n        case ls.SymbolKind.Property: return mKind.Property;\n        case ls.SymbolKind.Field: return mKind.Field;\n        case ls.SymbolKind.Constructor: return mKind.Constructor;\n        case ls.SymbolKind.Enum: return mKind.Enum;\n        case ls.SymbolKind.Interface: return mKind.Interface;\n        case ls.SymbolKind.Function: return mKind.Function;\n        case ls.SymbolKind.Variable: return mKind.Variable;\n        case ls.SymbolKind.Constant: return mKind.Constant;\n        case ls.SymbolKind.String: return mKind.String;\n        case ls.SymbolKind.Number: return mKind.Number;\n        case ls.SymbolKind.Boolean: return mKind.Boolean;\n        case ls.SymbolKind.Array: return mKind.Array;\n    }\n    return mKind.Function;\n}\nfunction toHighlighKind(kind) {\n    var mKind = monaco.languages.DocumentHighlightKind;\n    switch (kind) {\n        case ls.DocumentHighlightKind.Read: return mKind.Read;\n        case ls.DocumentHighlightKind.Write: return mKind.Write;\n        case ls.DocumentHighlightKind.Text: return mKind.Text;\n    }\n    return mKind.Text;\n}\nvar DocumentHighlightAdapter = /** @class */ (function () {\n    function DocumentHighlightAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentHighlightAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.findDocumentHighlights(resource.toString(), fromPosition(position)); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                range: toRange(item.range),\n                kind: toHighlighKind(item.kind)\n            }); });\n        }));\n    };\n    return DocumentHighlightAdapter;\n}());\nexport { DocumentHighlightAdapter };\nvar DocumentLinkAdapter = /** @class */ (function () {\n    function DocumentLinkAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentLinkAdapter.prototype.provideLinks = function (model, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) { return worker.findDocumentLinks(resource.toString()); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                range: toRange(item.range),\n                url: item.target\n            }); });\n        }));\n    };\n    return DocumentLinkAdapter;\n}());\nexport { DocumentLinkAdapter };\nfunction fromFormattingOptions(options) {\n    return {\n        tabSize: options.tabSize,\n        insertSpaces: options.insertSpaces\n    };\n}\nvar DocumentFormattingEditProvider = /** @class */ (function () {\n    function DocumentFormattingEditProvider(_worker) {\n        this._worker = _worker;\n    }\n    DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits = function (model, options, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.format(resource.toString(), null, fromFormattingOptions(options)).then(function (edits) {\n                if (!edits || edits.length === 0) {\n                    return;\n                }\n                return edits.map(toTextEdit);\n            });\n        }));\n    };\n    return DocumentFormattingEditProvider;\n}());\nexport { DocumentFormattingEditProvider };\nvar DocumentRangeFormattingEditProvider = /** @class */ (function () {\n    function DocumentRangeFormattingEditProvider(_worker) {\n        this._worker = _worker;\n    }\n    DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var resource = model.uri;\n        return wireCancellationToken(token, this._worker(resource).then(function (worker) {\n            return worker.format(resource.toString(), fromRange(range), fromFormattingOptions(options)).then(function (edits) {\n                if (!edits || edits.length === 0) {\n                    return;\n                }\n                return edits.map(toTextEdit);\n            });\n        }));\n    };\n    return DocumentRangeFormattingEditProvider;\n}());\nexport { DocumentRangeFormattingEditProvider };\n/**\n * Hook a cancellation token to a WinJS Promise\n */\nfunction wireCancellationToken(token, promise) {\n    if (promise.cancel) {\n        token.onCancellationRequested(function () { return promise.cancel(); });\n    }\n    return promise;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nexport function setupMode(defaults) {\n    var client = new WorkerManager(defaults);\n    var worker = function () {\n        var uris = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uris[_i] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, uris);\n    };\n    var languageId = defaults.languageId;\n    // all modes\n    monaco.languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker));\n    monaco.languages.registerDocumentHighlightProvider(languageId, new languageFeatures.DocumentHighlightAdapter(worker));\n    monaco.languages.registerLinkProvider(languageId, new languageFeatures.DocumentLinkAdapter(worker));\n    // only html\n    if (languageId === 'html') {\n        monaco.languages.registerDocumentFormattingEditProvider(languageId, new languageFeatures.DocumentFormattingEditProvider(worker));\n        monaco.languages.registerDocumentRangeFormattingEditProvider(languageId, new languageFeatures.DocumentRangeFormattingEditProvider(worker));\n        new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults);\n    }\n}\n"]}